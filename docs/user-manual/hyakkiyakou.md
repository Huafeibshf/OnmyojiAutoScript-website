# 百鬼夜行使用指北

在开始之前，各位应声虫应当明确，OAS的百鬼夜行功能是纯粹智能脚本，完全利用图像视觉技术来进行辅助游戏。
而外边的:
<div align="center">

### **直接修改内存数据的能叫脚本？外挂就是外挂！**

### **直接修改内存数据的能叫脚本？外挂就是外挂！**

### **直接修改内存数据的能叫脚本？外挂就是外挂！**

<iframe src="//player.bilibili.com/player.html?isOutside=true&aid=112697727321855&bvid=BV1Au3ae7EAQ&cid=500001599391888&p=1&autoplay=0" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true " width="800" height="450"></iframe>

</div>

### 使用
- 第一个跑的时候先用默认参数，先来感受一下
- 可以勾上显示目标检测及跟踪，这个会有一个新的窗口（类似上面的视频），看看在你机器上的表现
- 目前只能选Onnxruntime 和 FP32
- 目前使用CPU跑模型，对配置稍微有一点点要求
- 可以勾上显示更多日志，里面有一个参数`detect cost` 和 `track cost` 分别表示目标检测和目标跟踪的耗时，自个感受一下自己机器的配置，小于`调试设置->限制最短截屏时间` 就没有问题
- `调试设置->限制最短截屏时间` 这个不要乱调，推荐的数值就是推荐的数值，再快撒豆速度也跟不上，范围[200, 1000]之间。
- 中间关键的截屏和砸豆子仅仅是使用windows的api，这个是为了追求最快截屏速度和点击速度，完全可以做到10ms以内的截屏和50ms以内的点击，所以跑这个任务的时候不要最小化模拟器, 也不是说要求你设置截屏方案为windows，只需要设置好Handle就可以了，谁说截屏只能是一种呢，而不是多种共存一起用。
- 关闭mumu12定制鼠标会导致句柄无效
- 最高优先级使用例子： `sp_001, sp_003` ，中间逗号隔开，label在下表

| Label | Name | Label | Name | Label | Name | Label | Name|
|-----|-----|-----|-----|-----|-----|-----|-----|
| sp_001 | 少羽大天狗 | ssr_001 | 大天狗 | sr_001 | 桃花妖 | r_001 | 三尾狐 |
| sp_002 | 炼狱茨木童子 | ssr_002 | 酒吞童子 | sr_002 | 雪女 | r_002 | 座敷童子 |
| sp_003 | 稻荷神御馔津 | ssr_003 | 荒川之主 | sr_003 | 鬼使白 | r_003 | 鲤鱼精 |
| sp_004 | 苍风一目连 | ssr_004 | 阎魔 | sr_004 | 鬼使黑 | r_004 | 九命猫 |
| sp_005 | 赤影妖刀姬 | ssr_005 | 两面佛 | sr_005 | 孟婆 | r_005 | 狸猫 |
| sp_006 | 御怨般若 | ssr_006 | 小鹿男 | sr_006 | 犬神 | r_006 | 河童 |
| sp_007 | 骁浪荒川之主 | ssr_007 | 茨木童子 | sr_007 | 骨女 | r_007 | 童男 |
| sp_008 | 烬天玉澡前 | ssr_008 | 青行灯 | sr_008 | 鬼女红叶 | r_008 | 童女 |
| sp_009 | 鬼王酒吞童子 | ssr_009 | 妖刀姬 | sr_009 | 跳跳哥哥 | r_009 | 饿鬼 |
| sp_010 | 天剑韧心鬼切 | ssr_010 | 一目连 | sr_010 | 傀儡师 | r_010 | 巫师 |
| sp_011 | 聆海金鱼姬 | ssr_011 | 花鸟卷 | sr_011 | 海坊主 | r_011 | 鸦天狗 |
| sp_012 | 浮世青行灯 | ssr_012 | 辉夜姬 | sr_012 | 判官 | r_012 | 食发鬼 |
| sp_013 | 缚骨清姬 | ssr_013 | 荒 | sr_013 | 凤凰火 | r_013 | 武士之灵 |
| sp_014 | 待宵姑获鸟 | ssr_014 | 彼岸花 | sr_014 | 吸血姬 | r_014 | 雨女 |
| sp_015 | 麓铭大岳丸 | ssr_015 | 雪童子 | sr_015 | 妖狐 | r_015 | 跳跳弟弟 |
| sp_016 | 初翎山风 | ssr_016 | 山风 | sr_016 | 妖琴师 | r_016 | 跳跳妹妹 |
| sp_017 | 夜溟彼岸花 | ssr_017 | 玉澡前 | sr_017 | 食梦貘 | r_017 | 兵俑 |
| sp_018 | 蝉冰雪女 | ssr_018 | 御馔津 | sr_018 | 清姬 | r_018 | 丑时之女 |
| sp_019 | 空相面灵气 | ssr_019 | 面灵气 | sr_019 | 镰铀 | r_019 | 独眼小僧 |
| sp_020 | 绘世花鸟卷 | ssr_020 | 鬼切 | sr_020 | 姑获鸟 | r_020 | 铁鼠 |
| sp_021 | 因幡辉夜姬 | ssr_021 | 白藏主 | sr_021 | 二口女 | r_021 | 椒图 |
| sp_022 | 梦寻山兔 | ssr_022 | 八岐大蛇 | sr_022 | 白狼 | r_022 | 管狐 |
| sp_023 | 神堕八岐大蛇 | ssr_023 | 不知火 | sr_023 | 樱花妖 | r_023 | 山兔 |
| sp_024 | 大夜摩天阎魔 | ssr_024 | 大岳丸 | sr_024 | 惠比寿 | r_024 | 萤草 |
| sp_025 | 心狩鬼女红叶 | ssr_025 | 泷夜叉姬 | sr_025 | 络新妇 | r_025 | 蝴蝶精 |
| sp_026 | 神启荒 | ssr_026 | 云外镜 | sr_026 | 般若 | r_026 | 山童 |
| sp_027 | 禅心云外镜 | ssr_027 | 鬼童丸 | sr_027 | 青坊主 | r_027 | 首无 |
| sp_028 | 流光追月神 | ssr_028 | 缘结神 | sr_028 | 万年竹 | r_028 | 觉 |
| sp_029 | 修罗鬼童丸 | ssr_029 | 铃鹿御前 | sr_029 | 夜叉 | r_029 | 青蛙瓷器 |
| sp_030 | 寻森小鹿男 | ssr_030 | 紧那罗 | sr_030 | 黑童子 | r_030 | 古笼火 |
| sp_031 | 纺愿缘结神 | ssr_031 | 千姬 | sr_031 | 白童子 | r_031 | 免丸 |
| sp_032 | 渺念萤草 | ssr_032 | 帝释天 | sr_032 | 烟烟罗 | r_032 | 数珠 |
| sp_033 | 本真三尾狐 | ssr_033 | 阿修罗 | sr_033 | 金鱼姬 | r_033 | 小袖之手 |
| sp_034 | 鲸汐千姬 | ssr_034 | 食灵 | sr_034 | 档鸩 | r_034 | 电师 |
| sp_035 | 福悦座敷童子 | ssr_035 | 饭筒 | sr_035 | 以津真天 | r_035 | 天井下 |
|  |   | ssr_036 | 铃彦姬 | sr_036 | 匣中少女 | r_036 | 垢尝 |
|  |   | ssr_037 | 不见岳 | sr_037 | 小松丸 | r_037 | 影鳄 |
|  |   | ssr_038 | 须佐之男 | sr_038 | 书翁 | n_001 | 灯笼鬼 |
|  |   | ssr_039 | 寻香行 | sr_039 | 百目鬼 | n_002 | 提灯小僧 |
|  |   | ssr_040 | 季 | sr_040 | 追月神 | n_003 | 赤舌 |
|  |   | ssr_041 | 月读 | sr_041 | 日和坊 | n_004 | 盗墓小鬼 |
|  |   | ssr_042 | 言灵 | sr_042 | 熏 | n_005 | 寄生魂 |
|  |   | ssr_043 | 孔雀明王 | sr_043 | 奕 | n_006 | 唐纸伞妖 |
|  |   | ssr_044 | 天照 | sr_044 | 猫掌柜 | n_007 | 天邪鬼绿 |
|  |   | ssr_045 | 伊邪那美 | sr_045 | 人面树 | n_008 | 天邪鬼赤 |
|  |   | ssr_046 | 泷 | sr_046 | 於菊虫 | n_009 | 天邪鬼黄 |
|  |   |  |   | sr_047 | 一反木绵 | n_010 | 天邪鬼青 |
|  |   |  |   | sr_048 | 入殓师 | n_011 | 帚神 |
|  |   |  |   | sr_049 | 化鲸 | n_012 | 涂壁 |
|  |   |  |   | sr_050 | 海忍 | g_001 | 大天狗呱 |
|  |   |  |   | sr_051 | 久次良 | g_002 | 酒吞呱 |
|  |   |  |   | sr_052 | 蟹姬 | g_003 | 荒川呱 |
|  |   |  |   | sr_053 | 纸舞 | g_004 | 阎魔呱 |
|  |   |  |   | sr_054 | 星熊童子 | g_005 | 两面佛呱 |
|  |   |  |   | sr_055 | 风狸 | g_006 | 小鹿男呱 |
|  |   |  |   | sr_056 | 蝎女 | g_007 | 茨木呱 |
|  |   |  |   | sr_057 | 入内雀 | g_008 | 青行灯呱 |
|  |   |  |   | sr_058 | 怡细工 | g_009 | 妖刀姬呱 |
|  |   |  |   | sr_059 | 川猿 | g_010 | 一目连呱 |
|  |   |  |   | sr_060 | 迦楼罗 | g_011 | 花鸟卷呱 |
|  |   |  |   | sr_061 | 灵海蝶 | g_012 | 辉夜姬呱 |
|  |   |  |   | sr_062 | 粉婆婆 | g_013 | 荒呱 |
|  |   |  |   | sr_063 | 天逆每 | g_014 | 彼岸花呱 |
|  |   |  |   | sr_064 | 慧明灯 | g_015 | 雪童子呱 |
|  |   |  |   | sr_065 | 盗人神 | g_016 | 玉藻前呱 |
|  |   |  |   |  |   | g_017 | 御馒津呱 |

### 拜托最重要的
勾上 `回馈学习` 这将会保存有价值的图片用于更新模型
非常非常感谢各位痒痒鼠的反馈💖🌹

### Tricks
- 没有跟着其实问题不大，可跟可不跟
- 式神选神乐，这个在训练的时候加入了数据集当个负样本
- 游戏画质选极致，减少特效，没有上下文的情况下人眼也难以识别，别说机器了
![image](https://github.com/runhey/OnmyojiAutoScript/assets/74492025/8e1d3710-8704-4e9b-88eb-8d28eca13ab5)


### TODO
- [ ] 模型量化到INT8
- [ ] 添加TensosRT部署
- [ ] 冰冻状态处理
- [ ] 开局智能选式神
- [ ] 加速决策算法
